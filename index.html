<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CCPulse</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; height: 100vh; overflow: hidden; }
        .container { display: flex; height: 100vh; }
        .sidebar { width: 200px; padding: 20px; box-shadow: 2px 0 10px rgba(0,0,0,0.1); }
        .logo { text-align: center; margin-bottom: 30px; }
        .logo h1 { font-size: 24px; color: #667eea; margin-bottom: 5px; }
        .logo p { font-size: 12px; color: #666; }
        .nav-button { width: 100%; padding: 12px; margin-bottom: 10px; border-radius: 10px; cursor: pointer; transition: all 0.25s ease; font-size: 14px; }
        .nav-button:hover { transform: translateY(-1px); }
        .nav-button.active { transform: translateY(-1px); }
        .main-content { flex: 1; padding: 30px; overflow-y: auto; }
        .page { display: none; border-radius: 16px; padding: 30px; min-height: calc(100vh - 60px); }
        .page.active { display: block; }
        .page-title { font-size: 28px; margin-bottom: 25px; padding-bottom: 10px; border-bottom-width: 2px; border-bottom-style: solid; }
        .status-card { color: white; padding: 25px; border-radius: 14px; margin-bottom: 25px; }
        .status-row { display: flex; justify-content: space-between; margin-bottom: 15px; }
        .status-label { font-weight: 500; opacity: 0.9; }
        .status-value { font-weight: bold; font-size: 18px; }
        .status-indicator { display: inline-block; width: 10px; height: 10px; border-radius: 50%; margin-right: 8px; }
        .status-indicator.active { animation: pulse 2s infinite; }
        .status-indicator.inactive { background: #f44336; }
        @keyframes pulse { 0% { box-shadow: 0 0 0 0 rgba(76, 175, 80, 0.7); } 70% { box-shadow: 0 0 0 10px rgba(76, 175, 80, 0); } 100% { box-shadow: 0 0 0 0 rgba(76, 175, 80, 0); } }
        .action-buttons { display: flex; gap: 15px; margin-bottom: 25px; }
        .btn { padding: 12px 24px; border: none; border-radius: 10px; font-size: 14px; font-weight: 600; cursor: pointer; transition: all 0.25s ease; display: flex; align-items: center; gap: 8px; }
        .btn-primary { color: white; }
        .btn-primary:hover { transform: translateY(-2px); }
        .btn-success { color: white; }
        .btn-success:hover { transform: translateY(-2px); }
        .btn-danger { color: white; }
        .btn-danger:hover { transform: translateY(-2px); }
        .form-group { margin-bottom: 20px; }
        .form-group label { display: block; margin-bottom: 8px; font-weight: 500; color: #555; }
        .form-control { width: 100%; padding: 10px 15px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 14px; transition: border-color 0.3s; }
        .form-control:focus { outline: none; }
        .checkbox-group { display: flex; align-items: center; gap: 10px; }
        .checkbox-group input[type="checkbox"] { width: 20px; height: 20px; cursor: pointer; }
        .logs-container { border-radius: 10px; padding: 15px; height: 400px; overflow-y: auto; font-family: 'Consolas', 'Monaco', monospace; font-size: 13px; line-height: 1.6; }
        .log-entry { margin-bottom: 8px; padding: 8px; border-radius: 6px; border-left-width: 3px; border-left-style: solid; }
        .log-timestamp { color: #666; font-size: 11px; }
        .log-message { margin-top: 4px; }
        .info-box { padding: 15px; border-radius: 8px; margin-bottom: 20px; border-left-width: 4px; border-left-style: solid; }
        .info-box h3 { margin-bottom: 10px; color: #1976d2; }
        .info-box p { color: #555; line-height: 1.6; }
        .footer { margin-top: 30px; padding-top: 20px; text-align: center; font-size: 12px; }
        /* Theme variables and overrides */
        :root { --bg-start: #0f172a; --bg-end: #1e293b; --text: #e5e7eb; --muted: #9ca3af; --surface: rgba(255,255,255,0.06); --surface-2: rgba(255,255,255,0.08); --border: rgba(255,255,255,0.12); --primary: #7c3aed; --primary-600: #6d28d9; --success: #22c55e; --success-600: #16a34a; --danger: #ef4444; --danger-600: #dc2626; --code-bg: #0b1220; --info-bg: rgba(59,130,246,0.12); --info-border: #60a5fa; --warning-bg: rgba(234,179,8,0.15); --warning-border: #f59e0b; }
        body { color: var(--text); background: radial-gradient(60% 80% at 10% 20%, rgba(124,58,237,0.25) 0%, transparent 60%), radial-gradient(70% 80% at 90% 10%, rgba(2,132,199,0.22) 0%, transparent 60%), linear-gradient(160deg, var(--bg-start) 0%, var(--bg-end) 100%); }
        .sidebar { background: var(--surface); border-right: 1px solid var(--border); backdrop-filter: blur(8px); }
        .page { background: var(--surface-2); border: 1px solid var(--border); }
        .page-title { color: var(--text); border-bottom-color: var(--border); }
        .nav-button { background: var(--surface); border: 1px solid var(--border); color: var(--text); }
        .nav-button:hover, .nav-button.active { background: var(--primary); border-color: var(--primary); color: #fff; box-shadow: 0 8px 24px rgba(124,58,237,0.35); }
        .status-card { background: linear-gradient(135deg, rgba(124,58,237,0.35) 0%, rgba(2,132,199,0.35) 100%); box-shadow: 0 10px 30px rgba(0,0,0,0.25); }
        .status-label { color: rgba(255,255,255,0.85); }
        .status-value { color: #fff; }
        .status-indicator.active { background: var(--success); }
        .status-indicator.inactive { background: var(--danger); }
        .btn-primary { background: var(--primary); box-shadow: 0 6px 18px rgba(124,58,237,0.35); }
        .btn-primary:hover { background: var(--primary-600); }
        .btn-success { background: var(--success); box-shadow: 0 6px 18px rgba(34,197,94,0.35); }
        .btn-success:hover { background: var(--success-600); }
        .btn-danger { background: var(--danger); box-shadow: 0 6px 18px rgba(239,68,68,0.35); }
        .btn-danger:hover { background: var(--danger-600); }
        .form-control { background: rgba(0,0,0,0.25); color: var(--text); border-color: var(--border); }
        .form-control::placeholder { color: var(--muted); }
        .form-control:focus { border-color: var(--primary); box-shadow: 0 0 0 3px rgba(124,58,237,0.25); }
        .logs-container { background: var(--code-bg); color: #e2e8f0; border: 1px solid var(--border); }
        .log-entry { background: rgba(255,255,255,0.03); border-left-color: var(--primary); }
        .log-timestamp { color: var(--muted); }
        .info-box { background: var(--info-bg); border-left-color: var(--info-border); }
        #mode-warning { background: var(--warning-bg) !important; border-left-color: var(--warning-border) !important; }
        .footer { color: var(--muted); border-top: 1px solid var(--border); }
        /* Settings layout refinements */
        .settings-grid { display: grid; grid-template-columns: 1.2fr 0.8fr; gap: 18px; align-items: start; }
        @media (max-width: 960px) { .settings-grid { grid-template-columns: 1fr; } }
        .settings-card { background: var(--surface); border: 1px solid var(--border); border-radius: 12px; padding: 16px; }
        .form-hint { display: block; margin-top: 6px; font-size: 12px; color: var(--muted); }
        .toggle-row { display: flex; justify-content: space-between; align-items: center; gap: 12px; padding: 10px 0; border-bottom: 1px dashed var(--border); }
        .toggle-row:last-child { border-bottom: none; }
        .toggle-title { font-weight: 600; }
        .toggle-desc { font-size: 12px; color: var(--muted); margin-top: 4px; }
        .action-bar { margin-top: 18px; display: flex; justify-content: flex-end; }
        /* Subtle inline hint under titles */
        .subtle-hint-inline { display: block; font-size: 12px; color: var(--muted); margin-top: 6px; font-weight: normal; }
    </style>
</head>
<body class="dark">
    <div class="container">
        <div class="sidebar">
            <div class="logo">
                <h1>ğŸ’™ CCPulse</h1>
                <p>Claude Code Pulse</p>
            </div>
            <button class="nav-button active" onclick="showPage('dashboard')">ğŸ“Š <span data-i18n="dashboard">ëŒ€ì‹œë³´ë“œ</span></button>
            <button class="nav-button" onclick="showPage('settings')">âš™ï¸ <span data-i18n="settings">ì„¤ì •</span></button>
            <button class="nav-button" onclick="showPage('schedules')">ğŸ—“ï¸ <span data-i18n="schedules">ìŠ¤ì¼€ì¤„</span></button>
            <button class="nav-button" onclick="showPage('logs')">ğŸ“ <span data-i18n="logs">ë¡œê·¸</span></button>
            <button class="nav-button" onclick="showPage('about')">â„¹ï¸ <span data-i18n="about">ì •ë³´</span></button>
            <hr style="border: none; border-top: 1px solid var(--border); margin: 14px 0;">
            <button class="nav-button" id="lang-toggle" onclick="toggleLanguage()">ğŸŒ EN/KO</button>
        </div>
        <div class="main-content">
            <!-- ëŒ€ì‹œë³´ë“œ -->
            <div id="dashboard" class="page active">
                <h2 class="page-title" data-i18n="dashboard">ëŒ€ì‹œë³´ë“œ</h2>
                <div class="status-card">
                    <div class="status-row">
                        <span class="status-label" data-i18n="currentStatus">í˜„ì¬ ìƒíƒœ</span>
                        <span class="status-value"><span id="status-indicator" class="status-indicator inactive"></span><span id="status-text" data-i18n="inactive">ë¹„í™œì„±</span></span>
                    </div>
                    <div class="status-row">
                        <span class="status-label" data-i18n="nextRunTime">ë‹¤ìŒ ì‹¤í–‰ ì‹œê°„</span>
                        <span class="status-value" id="next-run">-</span>
                    </div>
                    <div class="status-row">
                        <span class="status-label" data-i18n="runMode">ì‹¤í–‰ ëª¨ë“œ</span>
                        <span class="status-value" id="run-mode" style="font-weight: bold;">Mock Mode</span>
                    </div>
                </div>
                <div class="info-box" id="schedules-summary" style="margin-top: 16px;">
                    <h3 style="margin-bottom:10px;" data-i18n="activeSchedules">í™œì„± ìŠ¤ì¼€ì¤„</h3>
                    <div id="schedules-summary-list" style="display:flex; flex-direction:column; gap:10px;">
                        <div style="color: var(--muted);" data-i18n="noSchedules">ìŠ¤ì¼€ì¤„ì´ ì—†ìŠµë‹ˆë‹¤. ìŠ¤ì¼€ì¤„ íƒ­ì—ì„œ ì¶”ê°€ í›„ ì €ì¥í•˜ì„¸ìš”.</div>
                    </div>
                </div>
                <div class="info-box" id="next-runs-box" style="margin-top: 12px;">
                    <h3 style="margin-bottom:10px;" data-i18n="nextRuns">ë‹¤ìŒ ì‹¤í–‰(ìµœëŒ€ 5íšŒ)</h3>
                    <div id="next-runs-list" style="display:flex; flex-wrap:wrap; gap:8px;">
                        <span style="color: var(--muted);" data-i18n="noAutoRun">ìë™ ì‹¤í–‰ì´ êº¼ì ¸ ìˆê±°ë‚˜ ìŠ¤ì¼€ì¤„ì´ ì—†ìŠµë‹ˆë‹¤.</span>
                    </div>
                </div>
                <div class="info-box" id="mode-warning" style="background: #fff3cd; border-left-color: #ffc107; margin-bottom: 20px;">
                    <h3 style="color: #856404;">âš ï¸ <span data-i18n="mockModeWarning">í˜„ì¬ Mock ëª¨ë“œë¡œ ì‹¤í–‰ ì¤‘</span></h3>
                    <p style="color: #856404;"><span data-i18n="mockModeDesc">ì‹¤ì œë¡œ Claudeë¥¼ í˜¸ì¶œí•˜ì§€ ì•Šê³  ì‹œë®¬ë ˆì´ì…˜ë§Œ í•©ë‹ˆë‹¤.</span><br><span data-i18n="mockModeHint">ì‹¤ì œ ì‹¤í–‰ì„ ì›í•˜ì‹œë©´ ì„¤ì •ì—ì„œ Mock ëª¨ë“œë¥¼ ë„ì„¸ìš”.</span></p>
                </div>
                <div class="action-buttons">
                    <button class="btn btn-success" onclick="runNow()">â–¶ï¸ <span data-i18n="runNow">ì§€ê¸ˆ ì‹¤í–‰</span></button>
                    <button class="btn btn-primary" onclick="toggleAutoStart()">â° <span data-i18n="toggleAutoRun">ìë™ ì‹¤í–‰ ì „í™˜</span></button>
                    <button class="btn btn-primary" onclick="showPage('logs');">ğŸ“ <span data-i18n="viewLogs">ë¡œê·¸ ë³´ê¸°</span></button>
                </div>
                <!-- Quick Start is shown in a first-run modal instead of here -->
            </div>
            <!-- ì„¤ì • -->
            <div id="settings" class="page">
                <h2 class="page-title" data-i18n="settings">ì„¤ì •</h2>
                <div class="settings-grid">
                    <div class="settings-card">
                        <div class="form-group">
                            <label data-i18n="claudeMessage">Claude ë©”ì‹œì§€</label>
                            <input type="text" id="message" class="form-control" placeholder="Hello">
                            <small class="form-hint" data-i18n="claudeMessageHint">ì‹¤ì œ í˜¸ì¶œ ì‹œ Claudeì— ì „ì†¡ë˜ëŠ” ë‹¨ì¼ ë©”ì‹œì§€ì…ë‹ˆë‹¤.</small>
                        </div>
                    </div>
                    <div class="settings-card">
                        <div class="toggle-row">
                            <div>
                                <div class="toggle-title" data-i18n="autoRunEnable">ìë™ ì‹¤í–‰ í™œì„±í™”</div>
                                <div class="toggle-desc" data-i18n="autoRunDesc">ìŠ¤ì¼€ì¤„ íƒ­ì˜ ì„¤ì •ëœ ìŠ¤ì¼€ì¤„ ê¸°ì¤€ìœ¼ë¡œ ìë™ ì‹¤í–‰í•©ë‹ˆë‹¤.</div>
                            </div>
                            <input type="checkbox" id="auto-start">
                        </div>
                        <div class="toggle-row">
                            <div>
                                <div class="toggle-title" data-i18n="mockMode">Mock ëª¨ë“œ</div>
                                <div class="toggle-desc" data-i18n="mockModeDescSetting">í…ŒìŠ¤íŠ¸ìš©ìœ¼ë¡œ Claudeë¥¼ ì‹¤ì œ í˜¸ì¶œí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. í•´ì œ ì‹œ ì‹¤ì œë¡œ ì‹¤í–‰ë©ë‹ˆë‹¤.</div>
                            </div>
                            <input type="checkbox" id="mock-mode">
                        </div>
                    </div>
                </div>
                <div class="action-bar">
                    <button class="btn btn-primary" onclick="saveSettings()">ğŸ’¾ <span data-i18n="saveSettings">ì„¤ì • ì €ì¥</span></button>
                </div>
            </div>
            <!-- ìŠ¤ì¼€ì¤„ -->
            <div id="schedules" class="page">
                <h2 class="page-title" data-i18n="schedules">ìŠ¤ì¼€ì¤„
                    <span class="subtle-hint-inline" data-i18n="schedulesHint">24ì‹œê°„ í‘œê¸°(HH:MM), ë¡œì»¬ ì‹œê°„ëŒ€ ê¸°ì¤€</span>
                </h2>
                <div class="action-buttons">
                    <button class="btn btn-primary" onclick="addSchedule()">â• <span data-i18n="addSchedule">ìŠ¤ì¼€ì¤„ ì¶”ê°€</span></button>
                    <button class="btn btn-primary" onclick="addPreset('every15')">â±ï¸ <span data-i18n="preset15min">15ë¶„ ê°„ê²©</span></button>
                    <button class="btn btn-primary" onclick="addPreset('hourly')">â±ï¸ <span data-i18n="presetHourly">ë§¤ì‹œê°„</span></button>
                    <button class="btn btn-primary" onclick="addPreset('workday')">ğŸ—‚ï¸ <span data-i18n="presetWorkday">í‰ì¼ 9-18ì‹œ/30ë¶„</span></button>
                </div>
                <div id="schedules-container"></div>
                <div class="action-buttons" style="margin-top: 20px;">
                    <button class="btn btn-success" onclick="saveSchedulesUI()"><span data-i18n="save">ì €ì¥</span></button>
                    <button class="btn btn-danger" onclick="clearSchedulesUI()">ğŸ§¹ <span data-i18n="clearAll">ì´ˆê¸°í™”</span></button>
                </div>
            </div>
            <!-- ë¡œê·¸ -->
            <div id="logs" class="page">
                <h2 class="page-title" data-i18n="executionLogs">ì‹¤í–‰ ë¡œê·¸</h2>
                <div class="action-buttons">
                    <button class="btn btn-primary" onclick="refreshLogs()">ğŸ”„ <span data-i18n="refresh">ìƒˆë¡œê³ ì¹¨</span></button>
                    <button class="btn btn-danger" onclick="clearLogs()">ğŸ—‘ï¸ <span data-i18n="clearLogs">ë¡œê·¸ ì‚­ì œ</span></button>
                    <button class="btn btn-primary" onclick="openLogsFolder()">ğŸ“ <span data-i18n="openLogFolder">ë¡œê·¸ í´ë” ì—´ê¸°</span></button>
                </div>
                <div class="logs-container" id="logs-container"><span data-i18n="noLogs">ë¡œê·¸ê°€ ì—†ìŠµë‹ˆë‹¤.</span></div>
            </div>
            <!-- ì •ë³´ -->
            <div id="about" class="page">
                <h2 class="page-title" data-i18n="about">ì •ë³´</h2>
                <div class="info-box">
                    <h3 data-i18n="version">CCPulse v1.0.0</h3>
                    <p>
                        <span data-i18n="description">Claude Codeì˜ í† í° ë¦¬ì…‹ íƒ€ì´ë°ì„ ê´€ë¦¬í•˜ëŠ” ë„êµ¬ì…ë‹ˆë‹¤.</span><br><br>
                        <strong data-i18n="features">ì£¼ìš” ê¸°ëŠ¥:</strong><br>
                        â€¢ <span data-i18n="feature1">ë§¤ì¼ ì„¤ì •ëœ ì‹œê°„ì— ìë™ìœ¼ë¡œ Claudeì— ìš”ì²­ ì „ì†¡</span><br>
                        â€¢ <span data-i18n="feature2">í† í° ìœˆë„ìš° ì¹´ìš´íŒ… ì‹œì‘ ì‹œì  ì¡°ì ˆ</span><br>
                        â€¢ <span data-i18n="feature3">ì‹œìŠ¤í…œ íŠ¸ë ˆì´ì—ì„œ ë°±ê·¸ë¼ìš´ë“œ ì‹¤í–‰</span><br>
                        â€¢ <span data-i18n="feature4">Mock ëª¨ë“œë¡œ Claude ì—†ì´ë„ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥</span>
                    </p>
                </div>
                <div class="footer">
                    <p data-i18n="copyright">Â© 2025 renechoi. All rights reserved.</p>
                </div>
            </div>
        </div>
    </div>
    <script src="translations.js"></script>
    <script src="renderer.js"></script>
    <script>
        function toggleLanguage() {
            const currentLang = localStorage.getItem('ccpulse-language') || 'en';
            const newLang = currentLang === 'ko' ? 'en' : 'ko';
            localStorage.setItem('ccpulse-language', newLang);
            currentLanguage = newLang;
            updateUILanguage();
            
            if (typeof updateDashboard !== 'undefined') {
                updateDashboard();
            }
            
            if (typeof renderSchedules !== 'undefined') {
                renderSchedules();
            }
            
            if (typeof require !== 'undefined') {
                const { ipcRenderer } = require('electron');
                ipcRenderer.send('update-language', newLang);
            }
        }
        
        function updateUILanguage() {
            const lang = currentLanguage;
            
            document.querySelectorAll('[data-i18n]').forEach(element => {
                const key = element.getAttribute('data-i18n');
                if (translations[lang] && translations[lang][key]) {
                    element.textContent = translations[lang][key];
                }
            });
            
            const langBtn = document.getElementById('lang-toggle');
            if (langBtn) {
                langBtn.textContent = lang === 'en' ? 'ğŸŒ KO' : 'ğŸŒ EN';
            }
        }
        
        document.addEventListener('DOMContentLoaded', function() {
            const savedLang = localStorage.getItem('ccpulse-language') || 'en';
            currentLanguage = savedLang;
            updateUILanguage();
        });
    </script>
    <!-- Onboarding Modal -->
    <div id="quickstart-modal" style="display:none; position: fixed; inset: 0; background: rgba(0,0,0,0.45); align-items: center; justify-content: center; z-index: 1000;">
        <div style="width: min(640px, 92vw); background: var(--surface); border: 1px solid var(--border); border-radius: 12px; box-shadow: 0 20px 60px rgba(0,0,0,0.35); overflow: hidden;">
            <div style="padding: 18px 20px; border-bottom: 1px solid var(--border); display:flex; align-items:center; justify-content:space-between;">
                <h3 style="margin:0;">ğŸ“Œ <span data-i18n="quickStartGuide">ë¹ ë¥¸ ì‹œì‘ ê°€ì´ë“œ</span></h3>
                <button id="qs-close-btn" class="btn" style="background: transparent; color: var(--text);">âœ–</button>
            </div>
            <div style="padding: 20px;">
                <ol style="line-height:1.8;">
                    <li><span data-i18n="quickStart1">ìŠ¤ì¼€ì¤„ íƒ­ì—ì„œ ì›í•˜ëŠ” ìŠ¤ì¼€ì¤„ì„ ì¶”ê°€í•˜ê³  ì €ì¥í•˜ì„¸ìš”.</span></li>
                    <li><span data-i18n="quickStart2">ì„¤ì • íƒ­ì—ì„œ ìë™ ì‹¤í–‰ í™œì„±í™”ë¥¼ ì¼œì„¸ìš”.</span></li>
                    <li><span data-i18n="quickStart3">ëŒ€ì‹œë³´ë“œì˜ ì§€ê¸ˆ ì‹¤í–‰ìœ¼ë¡œ ì¦‰ì‹œ ë™ì‘ì„ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</span></li>
                    <li><span data-i18n="quickStart4">ì°½ì„ ë‹«ì•„ë„ íŠ¸ë ˆì´ì—ì„œ ê³„ì† ì‹¤í–‰ë©ë‹ˆë‹¤(ë©”ë‰´ë¡œ ë‹¤ì‹œ ì—´ê¸° ê°€ëŠ¥).</span></li>
                </ol>
                <label class="checkbox-group" style="margin-top: 12px; display:flex; align-items:center; gap:8px;">
                    <input type="checkbox" id="qs-dont-show">
                    <span data-i18n="dontShowAgain">ë‹¤ì‹œ ë³´ì§€ ì•Šê¸°</span>
                </label>
                <div style="display:flex; justify-content:flex-end; gap:8px; margin-top:16px;">
                    <button id="qs-open-schedules" class="btn btn-primary"><span data-i18n="goToSchedules">ìŠ¤ì¼€ì¤„ë¡œ ì´ë™</span></button>
                    <button id="qs-ok" class="btn btn-success"><span data-i18n="gotIt">í™•ì¸</span></button>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
